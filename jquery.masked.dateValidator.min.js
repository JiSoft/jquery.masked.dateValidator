/**
 *  jquery.masked.dateValidator
 *  Validate masked date fields in form
 *  @link   https://github.com/JiSoft/jquery.masked.dateValidator
 *  @author JiSoft <jisoft.dn@gmail.com>
 */
(function(e){var t={dateSelector:"#date",dateDelimiter:".",dateFormat:"dmy",datePlaceholderChar:"_",msgSelector:"#wrong-date-msg",startYear:1900,language:"ru"};var n;var r={en:{wrongMonth:"Month is invalid",wrongDay:"Day is invalid",wrongYear:"Year must be between"},ru:{wrongMonth:"Не существует такого месяца",wrongDay:"День может быть от 01 до 31",wrongYear:"Год должен быть "}};var i={init:function(r){n=e.extend({},t,n,r);e(n.dateSelector).keyup(function(){var t=e(this).val().trim().replace(new RegExp("["+n.datePlaceholderChar+"]","g"),"");if(t.length==10){i["validate"](t)}else e(n.msgSelector).html("")});return this},validate:function(t){var i=false;if(t!=null||t!=""){var s=t.split(n.dateDelimiter);var o,u,a;if(n.dateFormat.charAt(0)=="d")o=s[0];if(n.dateFormat.charAt(0)=="m")u=s[0];if(n.dateFormat.charAt(0)=="y")a=s[0];if(n.dateFormat.charAt(1)=="d")o=s[1];if(n.dateFormat.charAt(1)=="m")u=s[1];if(n.dateFormat.charAt(1)=="y")a=s[1];if(n.dateFormat.charAt(2)=="d")o=s[2];if(n.dateFormat.charAt(2)=="m")u=s[2];if(n.dateFormat.charAt(2)=="y")a=s[2];var f=n.startYear;var l=new Date;if(o>=1&&o<=31){if(u>=1&&u<=12){if(a>=f&&a<=l.getFullYear()){e(n.msgSelector).html("");i=true}else{e(n.msgSelector).html(r[n.language].wrongYear+" "+f+" - "+l.getFullYear())}}else{e(n.msgSelector).html(r[n.language].wrongMonth)}}else{e(n.msgSelector).html(r[n.language].wrongDay)}}return i}};e.fn.dateValidator=function(e){if(i[e]){return i[e].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof e==="object"||!e){return i.init.apply(this,arguments)}else{return this}}})(jQuery)
